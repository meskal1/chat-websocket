"use strict";(self.webpackChunksimple_chat=self.webpackChunksimple_chat||[]).push([[697],{41055:function(e,r,n){n.d(r,{I:function(){return u}});var a=n(1413),s=n(44925),t=n(80184),o=["value","onChange","name","errorText","type","placeholder"],u=function(e){var r=e.value,n=e.onChange,u=e.name,i=e.errorText,c=void 0===(c=e.type)?"text":c,l=e.placeholder;e=(0,s.Z)(e,o);return(0,t.jsxs)("label",{className:"input-content",children:[(0,t.jsx)("span",{className:"error-input",children:i}),(0,t.jsx)("input",(0,a.Z)({autoComplete:"off",className:"input ".concat(r&&"input-not-empty"),name:u,type:c,onChange:n,value:r},e)),(0,t.jsx)("span",{className:"placeholder",children:l})]})}},75697:function(e,r,n){n.r(r),n.d(r,{Signup:function(){return f}});var a=n(1413),s=n(74165),t=n(15861),o=n(55705),u=n(57689),i=(r=n(98190),n(41055)),c=n(13294),l=n(9911),d=n(46732),p=n(48539),h=n(80184),m=(new r.Z,{username:"",avatarURL:"",password:"",confirmPassword:""}),f=function(){var e,r=(0,u.s0)(),n=(0,l.T)(),f=(0,o.TA)({initialValues:m,validationSchema:d.I,onSubmit:(e=(0,t.Z)((0,s.Z)().mark((function e(r){var a,t,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.username,a=r.avatarURL,t=r.password,o={username:o,avatarURL:a,password:t},n((0,p.Z7)(o));case 3:case"end":return e.stop()}}),e)}))),function(r){return e.apply(this,arguments)})});return(0,h.jsx)("div",{className:"signup-container",children:(0,h.jsxs)("div",{className:"signup-content",children:[(0,h.jsx)("h2",{className:"signup-title",children:"Sign up"}),(0,h.jsxs)("form",{className:"signup-form",onSubmit:f.handleSubmit,children:[(0,h.jsx)(i.I,(0,a.Z)((0,a.Z)({placeholder:"Username",errorText:f.touched.username&&f.errors.username||""},f.getFieldProps("username")),{},{value:f.values.username,onChange:f.handleChange})),(0,h.jsx)(i.I,(0,a.Z)((0,a.Z)({placeholder:"Avatar URL"},f.getFieldProps("avatarURL")),{},{value:f.values.avatarURL,onChange:f.handleChange})),(0,h.jsx)(i.I,(0,a.Z)((0,a.Z)({placeholder:"Password",type:"password",errorText:f.touched.password&&f.errors.password||""},f.getFieldProps("password")),{},{value:f.values.password,onChange:f.handleChange})),(0,h.jsx)(i.I,(0,a.Z)((0,a.Z)({placeholder:"Confirm password",type:"password",errorText:f.touched.confirmPassword&&f.errors.confirmPassword||""},f.getFieldProps("confirmPassword")),{},{value:f.values.confirmPassword,onChange:f.handleChange})),(0,h.jsxs)("div",{className:"buttons-container",children:[(0,h.jsx)("button",{type:"submit",className:"primary-button",children:"Sign up"}),(0,h.jsx)("button",{type:"button",className:"secondary-button",onClick:function(){return r(c.m.LOGIN)},children:"Sign in"})]})]})]})})}},48539:function(e,r,n){n.d(r,{gd:function(){return d},Z7:function(){return p}});var a=n(74165),s=n(15861),t=(r=n(96382),n(74855)),o=n(11912),u=o.Z.create({baseURL:"https://server-six-pearl.vercel.app/auth/"}),i=function(e){return u.post("login",e)},c=function(e){return u.post("signup",e)},l=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,n){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Z.isAxiosError(n)&&(null!=(s=n.response)&&s.data?n.response.data.error:n.message,console.log(null==(s=n.response)?void 0:s.data.message),"getCards/CardsPack.findById"!==(null==(s=n.response)?void 0:s.data.in)&&(null==(s=n.response)||s.data.error),"user not found /\u1420-\ua788-\u141f\\"!==(null==(s=n.response)?void 0:s.data.error)&&(null==(s=n.response)||s.data.error),r((0,t.lM)(null==(s=n.response)?void 0:s.data.message))),r((0,t.Wf)("idle"));case 2:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),d=(0,r.hg)("auth/logIn",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,n){var s,t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,t=n.rejectWithValue,e.prev=1,e.next=4,i(r);case 4:(o=(o=e.sent).data).token,o.userId,o.username,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),l(s,e.t0),e.abrupt("return",t(null));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,n){return e.apply(this,arguments)}}()),p=((0,r.hg)("auth/logOut",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,n){var s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,o=n.rejectWithValue,e.prev=1,s((0,t.Wf)("loading")),e.next=5,u.delete("logout");case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",o(null));case 10:return e.prev=10,s((0,t.Wf)("idle")),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(r,n){return e.apply(this,arguments)}}()),(0,r.hg)("auth/register",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,n){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,t=n.rejectWithValue,e.prev=1,e.next=4,c(r);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),l(s,e.t0),e.abrupt("return",t(null));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r,n){return e.apply(this,arguments)}}()));n=(0,r.oM)({name:"auth",initialState:{isLoggedIn:!1,recoveryEmail:"",status:"idle",passwordIsChanged:!1},reducers:{setIsLoggedIn:function(e,r){e.isLoggedIn=r.payload.isLoggedIn},setRecoveryEmail:function(e,r){e.recoveryEmail=r.payload.recoveryEmail},setPasswordStatus:function(e,r){e.passwordIsChanged=r.payload.passwordIsChanged}},extraReducers:function(e){}});(r=(n.reducer,n.actions)).setIsLoggedIn,r.setRecoveryEmail,r.setPasswordStatus},46732:function(e,r,n){n.d(r,{I:function(){return o},x:function(){return t}});n=(r=n(62797)).Z_().max(100,"Name should be less then 100 characters").required("Username is required");var a=r.Z_().min(6,"Password must contain at least 6 characters").max(30,"Password is too long").required("Password is required"),s=r.Z_().oneOf([r.iH("password")],"Password does not match").required("Confirm your password"),t=r.Ry({username:n,password:a}),o=r.Ry({username:n,password:a,confirmPassword:s})}}]);